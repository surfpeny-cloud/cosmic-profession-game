<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ü–£–¢–ï–®–ï–°–¢–í–ò–ï –ö –ü–õ–ê–ù–ï–¢–ï –ü–†–û–§–ï–°–°–ò–ô</title>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Meta-—Ç–µ–≥–∏ –¥–ª—è Telegram -->
    <meta property="og:title" content="üåå –ü–£–¢–ï–®–ï–°–¢–í–ò–ï –ö –ü–õ–ê–ù–ï–¢–ï –ü–†–û–§–ï–°–°–ò–ô">
    <meta property="og:description" content="–°–æ–∑–¥–∞–π —Å–≤–æ—é –ø—Ä–æ—Ñ–µ—Å—Å–∏—é –±—É–¥—É—â–µ–≥–æ –∏ –ø–æ–∫–æ—Ä–∏ –∫–æ—Å–º–æ—Å!">
    <meta property="og:image" content="https://raw.githubusercontent.com/your-username/cosmic-profession-game/main/icon-512.png">
    <meta property="og:url" content="https://your-username.github.io/cosmic-profession-game">
    
    <meta name="theme-color" content="#6c5ce7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è–ü—Ä–æ—Ñ–µ—Å—Å–∏—è">
    
    <link rel="stylesheet" href="style.css">
    
    <!-- Telegram Web App –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è -->
    <script>
    // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è Telegram Web App
    let tg = null;
    let TelegramUser = null;

    document.addEventListener('DOMContentLoaded', function() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ Telegram Web App
        if (window.Telegram && window.Telegram.WebApp) {
            tg = window.Telegram.WebApp;
            
            console.log('üöÄ Telegram Web App –æ–±–Ω–∞—Ä—É–∂–µ–Ω');
            console.log('–í–µ—Ä—Å–∏—è Web App:', tg.version);
            console.log('–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:', tg.platform);
            console.log('–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:', tg.colorScheme);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            tg.ready();
            tg.expand(); // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            tg.enableClosingConfirmation(); // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –ø–æ–¥ —Ç–µ–º—É Telegram
            if (tg.colorScheme === 'dark') {
                document.documentElement.style.setProperty('--space-dark', '#0a0a2a');
                document.documentElement.style.setProperty('--space-darker', '#050518');
            } else {
                document.documentElement.style.setProperty('--space-dark', '#1a1a4a');
                document.documentElement.style.setProperty('--space-darker', '#0f0f2a');
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ –¥–ª—è Telegram
            tg.setHeaderColor('#6c5ce7');
            tg.setBackgroundColor('#0a0a2a');
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const user = tg.initDataUnsafe?.user;
            if (user) {
                TelegramUser = user;
                console.log('üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Telegram:', user);
                
                // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
                document.getElementById('userWelcome').textContent = `–ü—Ä–∏–≤–µ—Ç, ${user.first_name}!`;
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π Telegram
            tg.onEvent('themeChanged', () => {
                console.log('–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞:', tg.colorScheme);
                if (tg.colorScheme === 'dark') {
                    document.documentElement.style.setProperty('--space-dark', '#0a0a2a');
                } else {
                    document.documentElement.style.setProperty('--space-dark', '#1a1a4a');
                }
            });
            
            tg.onEvent('viewportChanged', (event) => {
                console.log('Viewport –∏–∑–º–µ–Ω–µ–Ω:', event);
                tg.expand(); // –í—Å–µ–≥–¥–∞ —Ä–∞—Å—à–∏—Ä—è–µ–º
            });
            
            tg.onEvent('mainButtonClicked', () => {
                console.log('Main button clicked');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è –¥–ª—è Telegram
            document.getElementById('tgMenu').style.display = 'block';
            
        } else {
            console.log('üåê –ó–∞–ø—É—Å–∫ –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ');
            document.getElementById('browserWarning').style.display = 'block';
        }
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è Web App
    function closeTelegramApp() {
        if (tg) {
            tg.close();
        }
    }
    </script>
</head>
<body>
    <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ -->
    <div id="browserWarning" class="browser-warning" style="display: none;">
        <div class="warning-content">
            <h3>üåê –ó–∞–ø—É—Å–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</h3>
            <p>–î–ª—è –ª—É—á—à–µ–≥–æ –æ–ø—ã—Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞!</p>
            <button onclick="this.parentElement.parentElement.style.display='none'">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
    </div>

    <!-- –ú–µ–Ω—é Telegram -->
    <div id="tgMenu" class="tg-menu" style="display: none;">
        <button class="tg-close-btn" onclick="closeTelegramApp()">
            ‚úï –ó–∞–∫—Ä—ã—Ç—å
        </button>
        <div id="userWelcome" class="user-welcome"></div>
    </div>

    <div class="app">
        <!-- –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω -->
        <div class="space-background">
            <div class="stars"></div>
            <div class="twinkling"></div>
        </div>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header cosmic-header">
            <div class="header-content">
                <h1>üåå –ü–£–¢–ï–®–ï–°–¢–í–ò–ï –ö –ü–õ–ê–ù–ï–¢–ï –ü–†–û–§–ï–°–°–ò–ô</h1>
                <div class="subtitle">–°–æ–∑–¥–∞–π —Å–≤–æ—é –ø—Ä–æ—Ñ–µ—Å—Å–∏—é –±—É–¥—É—â–µ–≥–æ!</div>
                <div class="current-step" id="currentStep">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∞</div>
            </div>
            <div class="rocket-decoration">üöÄ</div>
        </div>

        <!-- –û—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –≤–∞—à–µ–≥–æ HTML (–∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏) -->
        <!-- ... -->

    </div>

    <!-- –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è Telegram —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
    <style>
    .browser-warning {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: linear-gradient(135deg, #ff7675, #d63031);
        color: white;
        padding: 15px;
        z-index: 10000;
        text-align: center;
        box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .warning-content button {
        background: white;
        color: #d63031;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        margin-top: 10px;
        cursor: pointer;
        font-weight: bold;
    }

    .tg-menu {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .tg-close-btn {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .tg-close-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.05);
    }

    .user-welcome {
        background: rgba(255, 255, 255, 0.1);
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 12px;
        backdrop-filter: blur(10px);
    }

    /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è Telegram Web App */
    @media (max-height: 600px) {
        .cosmic-card {
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .header {
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .cosmic-btn {
            padding: 14px 20px;
            font-size: 14px;
        }
    }
    </style>

    <script src="data.js"></script>
    <script src="game.js"></script>
</body>
</html>
